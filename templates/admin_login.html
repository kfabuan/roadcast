{% extends 'base_signin.html' %}
{% load static %}
{% block title %} Admin Login {% endblock %}
{% block design %} 
<style>

  .color-change {
      animation: color_change 2s infinite alternate-reverse;
    }
    
    @keyframes color_change {
      00% { color: #19B3D3; }
      50% { color: rgb(31,36,152); }
      100% { color: #FFA41B; }
    }
  
    .loading:after {
      overflow: hidden;
      display: inline-block;
      vertical-align: bottom;
      -webkit-animation: ellipsis steps(4,end) 900ms infinite;      
      animation: ellipsis steps(4,end) 900ms infinite;
      content: "\2026"; /* ascii code for the ellipsis character */
      width: 0px;
  }
  
  @keyframes ellipsis {
    to {
      width: 20px;    
    }
  }
  
  @-webkit-keyframes ellipsis {
    to {
      width: 20px;    
    }
  }
  
  img {
      width: 100%;
  }
  
  #loading {
      position: relative;
      width: 500px;
      height: 300px;
      display: none;
  }
  
  .text {
      position: absolute;
      z-index: 999;
      bottom:10%;
      width:100%;
      font-size:13px; 
      letter-spacing: 1px; 
      font-weight: bold;
      display: block;
  }
  
  #login-div {
    display: block;
  }
  
  @media only screen and (max-width: 600px){
      #loading {
        width: 400px;
        height: 270px;
      }
    }

    @media only screen and (max-width: 520px){
      #loading {
        width: 370px;
        height: 250px;
      }
    }

    @media only screen and (max-width: 420px){
      #loading {
        width: 340px;
        height: 220px;
      }
    }


    @media only screen and (max-width: 320px){
      #loading {
        width: 300px;
        height: 190px;
      }
    }
</style>
  

{% endblock %}

{% block content %}
<!-- <body> -->
<body style="background-color: #1b5082 !important;"> 

<div class="container">
  
  <!-- Alert messages -->
{% if messages %}
     {% for message in messages %}
     {% if message.tags  == 'error' %}
     <p class="alert alert-danger" role="alert">
      <b>{{message}}</b>
     </p>
     {% elif message.tags == 'warning' %}
     <p class="alert alert-danger" role="alert">
    <b>{{message}} Please login <a href="{% url 'login' %}" style="color: #dc3545;">here.</a></b>
     </p>
     {% elif message.tags == 'info' %}
     <p class="alert alert-primary" role="alert">
    <b>{{message}}</b>
     </p>
     {% else %}
     <p class="alert alert-success" role="alert">
      <b>{{message}}</b>
     </p>
     {% endif %}
     {% endfor %}
{% endif %}
  
  <div class= "row px-3" id="login-div">
    <div class ="col-lg-10 col-xl-9 card flex-row mx-auto px-0">
      <div class="img-right d-none d-md-flex" style="width: 50%; background-repeat: no-repeat; background-size: auto 100%; background-position: center center; background-image: url({% static 'image/city.gif' %})"></div>

        <div class="card-body" style="width: 55%;">

        <div style="text-align: center;">
           <a href="{% url 'index' %}"><img src="{% static 'image/logo1.png' %}" style="width: 35px; height: auto; margin-right: 8px;"><STRONG><label style="color: #1b5082;">ROAD</label><label style="color: #19B3D3;">CAST</label></STRONG></a>
         </div>

         <a href="{% url 'index' %}"><i class="btn close-btn fas fa-times"></i></a>

         <h2 style="margin-top: 18px; text-align: center;">Admin Panel</h2>

          <h4 style="margin-top: -2px; margin-bottom: 15px; font-size: 15px; text-align: center;">Log in to access your admin account</h4>

            <form method="POST" action="" class="form-box px-3">

              {% csrf_token %}

                  <div class="form-input" style="margin-top: 25px; ">
                    <span><i class="fas fa-user-alt" style="color: #1b5082;"></i></span>
                    <input type="email" tabindex="1" name="username" placeholder="Email address" tabindex="10" class="form-control" style="background-color: transparent; outline: none; font-size: 14px; border: 1px solid #00000020;;" required>
                  </div>

                  <div class="form-input" style="margin-top: -5px;" >
                      <span><i class="fa fa-key" style="color: #1b5082;"> </i> </span>
                      <input type="password" tabindex="2" name="password" placeholder="Password" class="form-control" style="background-color: transparent;  font-size: 14px; outline: none; border: 1px solid #00000020;;" required>
                  </div>

                  <div class="mb-3">
                      <div class="custom-control custom-checkbox">
                        <input tabindex="3" type="checkbox" class="custom-control-input" id="cb1" name="">
                          <label class="custom-control-label" for="cb1" style="font-size: 14px;">
                             Remember me </label>
                      </div>
                  </div>  

                  <div class="mb-3">
                    <button type="submit" id="btn-login" class="btn btn-primary btn-block" style="background-color: #1b5082;" onclick="myFunction()">
                      LOGIN
                    </button>
                  </div>

                  <!-- <div class="text-right">
                    <a href="{% url 'forgot_pass' %}" class="forget-link" style="font-size: 14px; color: #1b5082;">
                      Forgot Password?
                    </a>
                  </div> 
                   -->

                  <hr class="my-4">
                  
                  <div class="text-center mb-2">
                      Login using an other account?
                  <a tabindex="5" href="{% url 'login' %}" class="register-link" style="color: #1b5082;">
                      Login Here
                  </a>
                  </div>
            </form>
          </div>
        </div>
      </div>
    </div>
</div>

</form>
<center> 
  <div class ="card img-fluid" id="loading">
      <img src="/static/image/car1.gif" class="cover-bg" alt="Background Cover">
      <span class="text  text-center text-uppercase color-change"> <div class="loading">Logging in your account</div></span>
      
    </div>
</center>


<script type="text/javascript">
    var a = document.getElementById('butt');
    function myFunction(){        
      var log_div = document.getElementById("login-div");
      var x = document.getElementById("loading");

      if (x.style.display === "block") {
          x.style.display = "none";

      } else {
          x.style.display = "block";
          log_div.style.display = "none";
      }
    }

    setTimeout(function(){
      if ($('.alert').length > 0) {
        $('.alert').remove();
      }
    }, 2000)
</script>
{% endblock %}
